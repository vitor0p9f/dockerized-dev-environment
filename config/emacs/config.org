#+title: Emacs configuration
#+author: Vítor Pereira Fontes
#+date: 2024-11-10
#+PROPERTY: header-args:emacs-lisp :tangle ./init.el :mkdirp yes

* Repositories

#+begin_src emacs-lisp
  (require 'package)

  (setq package-archives '(("melpa" . "https://melpa.org/packages/")
			   ("org" . "https://orgmode.org/elpa/")
			   ("elpa" . "https://elpa.gnu.org/packages/")))

  (package-initialize)
  (unless package-archive-contents
    (package-refresh-contents))
#+end_src

* 'use-package' configuration

#+begin_src emacs-lisp
  (unless (package-installed-p 'use-package)
    (package-refresh-contents)
    (package-install 'use-package))

  (require 'use-package)
  (setq use-package-always-ensure t)
#+end_src

* Babel configuration

** Tangle code blocks on save

#+begin_src emacs-lisp
  (org-babel-do-load-languages
   'org-babel-load-languages
   '((emacs-lisp . t)))

  (defun efs/org-babel-tangle-config ()
    (when (string-equal (buffer-file-name)
			(expand-file-name "~/.config/emacs/config.org"))

      (let ((org-confirm-babel-evaluate nil))
	(org-babel-tangle))))

  (add-hook 'org-mode-hook (lambda () (add-hook 'after-save-hook #'efs/org-babel-tangle-config)))
#+end_src

** Identation on org files

#+begin_src emacs-lisp
  (add-hook 'org-mode-hook (lambda ()
			     (setq indent-tabs-mode nil)
			     (setq tab-width 2)
			     (org-indent-mode)))
#+end_src

** Bullets

#+begin_src emacs-lisp
  (use-package org-bullets
    :ensure t
    :hook (org-mode . org-bullets-mode)
    :config
    (setq org-bullets-bullet-list '("◉" "○" "✸" "✿")))
#+end_src


#+begin_src emacs-lisp

#+end_src
